<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Formul√°rio Rom√¢ntico ‚Äî Dark Neon</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0b0d;
    --card-bg: rgba(255,255,255,0.04);
    --glass: rgba(255,255,255,0.03);
    --white: #ffffff;
    --accent-pink: #ff2e83;
    --accent-purple: #8a2be2;
    --accent-cyan: #00e5ff;
    --accent-rose: #ff6ca3;
    --accent-gold: #ffb84d;
    --shadow: 0 10px 30px rgba(0,0,0,0.6);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(255,46,131,0.06), transparent),
                radial-gradient(1000px 400px at 90% 90%, rgba(138,43,226,0.04), transparent),
                var(--bg);
    color:var(--white);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
    overflow:hidden;
  }

  /* hearts layer */
  .hearts {
    position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden;
  }
  .heart {
    position:absolute;
    font-size:18px;
    opacity:0.9;
    animation: rise linear forwards;
    transform-origin:center;
    filter:drop-shadow(0 6px 18px rgba(0,0,0,0.6));
  }
  @keyframes rise {
    from { transform: translateY(100vh) scale(0.7); opacity:1; }
    to   { transform: translateY(-30vh) scale(1.3); opacity:0; }
  }

  /* container */
  .wrap {
    position:relative;
    width:100%;
    max-width:520px;
    z-index:2;
  }

  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius:20px;
    padding:30px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(8px) saturate(120%);
    border: 1px solid rgba(255,255,255,0.03);
    overflow:visible;
    min-height:320px;
    position:relative;
  }

  /* stage color bar */
  .stage-bar{
    height:8px;
    width:100%;
    border-radius:10px;
    margin-bottom:18px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    overflow:hidden;
    box-shadow: 0 6px 20px rgba(0,0,0,0.5) inset;
  }
  .stage-indicator {
    height:100%;
    width:20%;
    transform:translateX(var(--translate,0%));
    transition:transform .6s cubic-bezier(.2,.9,.25,1);
    border-radius:10px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.45) inset;
  }

  /* question area */
  .question {
    text-align:center;
    margin:8px 0 20px 0;
  }
  .question h1{
    margin:0;
    font-size:28px;
    letter-spacing:0.2px;
    line-height:1.15;
    font-weight:800;
    text-shadow: 0 6px 30px rgba(0,0,0,0.6);
  }
  .question p{
    margin:10px 0 0 0;
    opacity:0.85;
    font-weight:600;
    font-size:14px;
  }

  /* options / buttons area */
  .options {
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:center;
    justify-content:center;
    padding:6px 12px 10px 12px;
    min-height:120px;
  }

  .btn {
    width:100%;
    max-width:440px;
    padding:14px 18px;
    font-size:18px;
    border-radius:12px;
    border:none;
    font-weight:700;
    cursor:pointer;
    transition: transform .16s ease, box-shadow .16s ease, background .16s;
    letter-spacing:0.3px;
    color:var(--bg);
    box-shadow: 0 8px 28px rgba(0,0,0,0.5);
  }

  .btn:active{ transform:scale(.98) }

  /* theme variants (applied to colored indicator and button accent) */
  .theme-0 .stage-indicator{ background: linear-gradient(90deg, var(--accent-pink), var(--accent-rose)); }
  .theme-0 .btn{ background: linear-gradient(90deg, rgba(255,46,131,0.96), rgba(255,108,163,0.95)); color:white; box-shadow: 0 12px 30px rgba(255,46,131,0.18); }

  .theme-1 .stage-indicator{ background: linear-gradient(90deg, var(--accent-purple), var(--accent-cyan)); }
  .theme-1 .btn{ background: linear-gradient(90deg, rgba(138,43,226,0.94), rgba(0,229,255,0.92)); color:#040006; box-shadow: 0 12px 30px rgba(138,43,226,0.12); }

  .theme-2 .stage-indicator{ background: linear-gradient(90deg, var(--accent-cyan), var(--accent-gold)); }
  .theme-2 .btn{ background: linear-gradient(90deg, rgba(0,229,255,0.96), rgba(255,184,77,0.94)); color:#040006; box-shadow: 0 12px 30px rgba(0,229,255,0.12); }

  .theme-3 .stage-indicator{ background: linear-gradient(90deg, var(--accent-gold), var(--accent-rose)); }
  .theme-3 .btn{ background: linear-gradient(90deg, rgba(255,184,77,0.96), rgba(255,108,163,0.94)); color:#040006; box-shadow: 0 12px 30px rgba(255,184,77,0.12); }

  .theme-4 .stage-indicator{ background: linear-gradient(90deg, var(--accent-rose), var(--accent-pink)); }
  .theme-4 .btn{ background: linear-gradient(90deg, rgba(255,108,163,0.96), rgba(255,46,131,0.94)); color:white; box-shadow: 0 12px 30px rgba(255,108,163,0.14); }

  /* separate small neutral btn (used for SIM/NO in last) */
  .btn-ghost {
    background: rgba(255,255,255,0.06);
    color:var(--white);
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow:none;
    max-width:220px;
  }

  /* transitions between steps */
  .stage {
    position:relative;
    width:100%;
    min-height:150px;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .panel {
    position:absolute;
    width:100%;
    left:0;
    top:0;
    opacity:0;
    transform: translateY(16px) scale(.995);
    transition: transform .45s cubic-bezier(.2,.9,.25,1), opacity .45s ease;
    pointer-events:none;
  }
  .panel.active { opacity:1; transform: translateY(0) scale(1); pointer-events:auto; }

  /* final screen */
  .final {
    text-align:center;
    padding:20px;
  }
  .final h2{
    font-size:30px;
    margin:0 0 12px 0;
    letter-spacing:0.6px;
  }
  .final p{ opacity:0.95; margin:6px 0 0 0; font-weight:600; }

  /* responsive tweaks */
  @media (max-width:520px){
    .question h1{ font-size:22px }
    .btn{ font-size:16px; padding:12px 14px }
    .card{ padding:20px }
  }
</style>
</head>
<body>

<div class="hearts" id="hearts"></div>

<div class="wrap">
  <div class="card theme-0" id="card">
    <div class="stage-bar">
      <div class="stage-indicator" id="stageIndicator" style="--translate:0%"></div>
    </div>

    <div class="question">
      <h1 id="qTitle">Carregando...</h1>
      <p id="qSub"></p>
    </div>

    <div class="stage" aria-live="polite">
      <!-- panels inserted by JS -->
    </div>

  </div>
</div>

<script>
/* ---------- dades ---------- */
const perguntas = [
  { q: "Qual dessas flores voc√™ mais gosta?", sub: "Escolha uma flor", opts: ["üåπ Rosas","üåª Girass√≥is","üå∏ Cerejeira"] },
  { q: "Qual desses lugares √© mais rom√¢ntico?", sub: "Escolha o lugar", opts: ["üèñ Praia","üåå C√©u estrelado","üé° Parque"] },
  { q: "Voc√™ gosta de mim?", sub: "Seja sincero(a)", opts: ["Sim üíò","Mais ou menos üò≥"] },
  { q: "Se eu te chamasse pra sair, voc√™ viria?", sub: "Escolha uma op√ß√£o", opts: ["Aceito üíû","Claro ‚ù§Ô∏è"] },
  { q: "Ent√£o... quer namorar comigo?", sub: "Escolha com carinho", opts: ["SIM üíç","N√ÉO üò≠ (tente me pegar)"] }
];

let etapa = 0;
let stageIndicator = document.getElementById('stageIndicator');
const card = document.getElementById('card');
const stageEl = document.querySelector('.stage');
const qTitle = document.getElementById('qTitle');
const qSub = document.getElementById('qSub');

/* themes map */
const themes = ['theme-0','theme-1','theme-2','theme-3','theme-4'];

/* ---------- hearts ambient (decorative) ---------- */
function spawnHeart(){
  const h = document.createElement('div');
  h.className = 'heart';
  h.style.left = (Math.random()*100) + 'vw';
  h.style.fontSize = (12 + Math.random()*26) + 'px';
  h.style.animationDuration = (4 + Math.random()*5) + 's';
  h.style.opacity = 0.85;
  h.innerText = ['üíñ','üíó','üíû','üíï'][Math.floor(Math.random()*4)];
  document.getElementById('hearts').appendChild(h);
  setTimeout(()=> h.remove(), 9000);
}
setInterval(spawnHeart, 600);

/* ---------- render panels ---------- */
function renderStep(i){
  // update stage indicator and theme
  const pct = (i / (perguntas.length - 1)) * 100;
  stageIndicator.style.transform = `translateX(${pct}%)`;
  card.classList.remove(...themes);
  card.classList.add(themes[i]);

  // set title/sub
  qTitle.textContent = perguntas[i].q;
  qSub.textContent = perguntas[i].sub;

  // clear previous panels
  stageEl.innerHTML = '';

  // create panel container
  const panel = document.createElement('div');
  panel.className = 'panel active';

  // create options
  perguntas[i].opts.forEach((opt, idx) => {
    const btn = document.createElement('button');
    btn.className = 'btn';
    btn.innerText = opt;

    // last question: special handling for YES/NO
    if(i === perguntas.length - 1){
      if(idx === 0){
        // SIM button -> proceed to final
        btn.onclick = () => goFinal();
        btn.style.maxWidth = '260px';
      } else {
        // N√ÉO button -> make it special: ghost style and fleeing
        btn.className = 'btn btn-ghost';
        btn.id = 'naoBtn';
        // behavior: on hover or click, flee infinitely
        btn.addEventListener('mouseover', fugirInfinite);
        btn.addEventListener('click', fugirInfinite);
        // allow it to be dragged a bit on mobile taps: move on touch
        btn.addEventListener('touchstart', fugirInfinite);
      }
    } else {
      // normal option -> go next step
      btn.onclick = () => nextStep();
    }

    // small stagger animation
    btn.style.transitionDelay = (idx*40) + 'ms';
    panel.appendChild(btn);
  });

  stageEl.appendChild(panel);

  // animate panels: briefly remove .active to trigger reflow then add
  requestAnimationFrame(()=> {
    panel.classList.remove('active');
    void panel.offsetWidth;
    panel.classList.add('active');
  });
}

/* ---------- navigation ---------- */
function nextStep(){
  etapa++;
  if(etapa >= perguntas.length) return goFinal();
  renderStep(etapa);
}

/* ---------- fleeing behavior (no limit) ---------- */
function randomPosWithinViewport(el){
  const pad = 24;
  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
  const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
  const maxX = Math.max(vw - el.offsetWidth - pad, pad);
  const maxY = Math.max(vh - el.offsetHeight - pad - 60, pad); // keep away from top bar
  const x = Math.random() * maxX;
  const y = Math.random() * maxY;
  return {x,y};
}

/* infinite flee: move to a new random pos with a quick transform */
function fugirInfinite(e){
  const btn = document.getElementById('naoBtn');
  if(!btn) return;
  btn.style.position = 'absolute';
  btn.style.transition = 'transform .16s ease, left .18s ease, top .18s ease';
  const pos = randomPosWithinViewport(btn);
  // use transform for smoother mobile
  btn.style.left = pos.x + 'px';
  btn.style.top = pos.y + 'px';
  // small pop effect
  btn.style.transform = 'scale(1.06)';
  setTimeout(()=> btn.style.transform = 'scale(1)', 140);
}

/* ---------- final ---------- */
function goFinal(){
  // show final view in card with fancier layout
  card.innerHTML = `
    <div style="padding:30px; text-align:center;">
      <div style="font-size:48px; font-weight:800; margin-bottom:12px;">üíç √â oficial!</div>
      <div style="font-size:20px; margin-bottom:18px; opacity:0.95;">Voc√™s agora s√£o namorados ‚ù§Ô∏è</div>
      <div style="display:flex; gap:12px; justify-content:center; margin-top:6px;">
        <button class="btn" id="finalShare">Compartilhar ‚ù§Ô∏è</button>
        <button class="btn btn-ghost" id="finalClose">Fechar ‚ú®</button>
      </div>
    </div>
  `;
  // spawn lots of hearts for celebration
  for(let i=0;i<40;i++){
    setTimeout(spawnHeart, i*80);
  }
  // attach final actions
  const share = document.getElementById('finalShare');
  const close = document.getElementById('finalClose');
  share.onclick = ()=> {
    const url = location.href;
    navigator.clipboard?.writeText("Adivinha? Aceitou! " + url).then(()=> {
      share.innerText = "Link copiado! üìã";
      setTimeout(()=> share.innerText = "Compartilhar ‚ù§Ô∏è", 1800);
    }).catch(()=> {
      share.innerText = "Copiar falhou";
    });
  };
  close.onclick = ()=> {
    // gentle confetti-like hearts
    for(let i=0;i<30;i++) setTimeout(spawnHeart, i*60);
    // small shine effect by toggling background
    document.body.style.transition = 'background .8s ease';
    document.body.style.background = 'radial-gradient(circle at 30% 20%, rgba(255,46,131,0.08), transparent), radial-gradient(circle at 80% 80%, rgba(138,43,226,0.06), transparent), #07060a';
  };
}

/* ---------- init ---------- */
renderStep(0);

/* update translate var on resize (keeps indicator exact) */
window.addEventListener('resize', ()=>{
  const pct = (etapa / (perguntas.length - 1)) * 100;
  stageIndicator.style.transform = `translateX(${pct}%)`;
});
</script>
</body>
    </html>
